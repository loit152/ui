<!DOCTYPE html>
<html>
  <head>
    <title>ãƒŸã‚¹ãƒ†ãƒªãƒ¼ãƒœãƒƒã‚¯ã‚¹</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <style>
      * { margin: 0; padding: 0; }
      div { box-sizing:border-box; font-size:30px; background-color: white; }

      .container {
        border:2px solid #333333;
        margin-right: auto;
        margin-left:  auto;
        max-width: 960px;
        height:auto;
        background-color: gray;
      }

      .header{
        width:100%;
        height:100px;
        padding: 20px;
        background-color: green;
        font-size:35px;
        color:white;
        text-align:center;
      }

      .hooter{
        width:100%;
        height:50px;
        padding-top: 10px;
        background-color: #006600;
        color:white;
        font-size:18px;
        text-align:right;
      }

      .main{
        width:100%;
        padding:30px;
        border-bottom: 1px solid #333333;
        background:white;
      }

      .hint { margin: 12px 0; font-size: 20px; }
      .choice { margin: 10px; padding: 10px 20px; font-size: 18px; }
      #nextHint, #nextQuestion { margin-top: 20px; padding: 10px 20px; font-size: 18px; }
      #nextHint { margin-bottom:40px; }
    </style>
  </head>

<body>
  <div class="container">

    <div class="header">
      ğŸ ãƒŸã‚¹ãƒ†ãƒªãƒ¼ãƒœãƒƒã‚¯ã‚¹ ğŸ
    </div>

    <div class="main">

      <p id="score">ãƒã‚¤ãƒ³ãƒˆï¼š0</p>

      <div id="hints"></div>
      <button id="nextHint">æ¬¡ã®ãƒ’ãƒ³ãƒˆ</button>

      <div id="choices"></div>
      <p id="result"></p>

      <button id="nextQuestion" style="display:none;">æ¬¡ã®å•é¡Œ</button>

    </div>

    <div class="hooter">
      ãƒ¡ãƒ³ãƒãƒ¼å…¨å“¡ã®ç•ªå·ã¨åå‰ã‚’æ›¸ã
    </div>
  </div>

<script>
//å•é¡Œãƒ‡ãƒ¼ã‚¿ã€€question.hint[n]ã¿ãŸã„ãªæ„Ÿã˜ã§è¡¨ç¾ã§ãã‚‹ã€€keywordäºŒæ¬¡å…ƒé…åˆ— é€£æƒ³é…åˆ—  
const questions = [
    {
      hints: [
        "ãƒ’ãƒ³ãƒˆ1ï¼šãƒ—ãƒ­ã®é‡çƒé¸æ‰‹ã§ã™",
        "ãƒ’ãƒ³ãƒˆ2ï¼šæ—¥æœ¬äººã§ã™",
        "ãƒ’ãƒ³ãƒˆ3ï¼šäºŒåˆ€æµã§æœ‰åã§ã™"
      ],
      choices: ["ãƒ¡ãƒƒã‚·", "å¤§è°·ç¿”å¹³", "ã‚¤ãƒãƒ­ãƒ¼"],
      answer: "å¤§è°·ç¿”å¹³",
      image: "img/IMG_box.jpeg"
    },
    {
      hints: [
        "ãƒ’ãƒ³ãƒˆ1ï¼šæ­´å²ä¸Šã®äººç‰©ã§ã™",
        "ãƒ’ãƒ³ãƒˆ2ï¼šç¾½æŸ´ç§€å‰ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™",
        "ãƒ’ãƒ³ãƒˆ3ï¼šå¤©ä¸‹çµ±ä¸€ã—ã¾ã—ãŸ"
      ],
      choices: ["è±Šè‡£ç§€å‰", "ç¹”ç”°ä¿¡é•·", "æ˜æ™ºå…‰ç§€"],
      answer: "è±Šè‡£ç§€å‰",
      image: "img/IMG_box.jpeg"
    }
  ];

  let currentQuestionIndex = 0;
  let currentHintIndex = 0;
  let usedHints = 0;
  let score = 0;

  const hintContainer = document.getElementById("hints");
  const choiceContainer = document.getElementById("choices");
  const result = document.getElementById("result");
  const nextHintBtn = document.getElementById("nextHint");
  const nextQuestionBtn = document.getElementById("nextQuestion");
//ä»¥ä¸‹é–¢æ•°
  function updateScore() {
    document.getElementById("score").innerHTML = "ãƒã‚¤ãƒ³ãƒˆï¼š" + score;
  }

  function loadQuestion() {
    const q = questions[currentQuestionIndex];

    hintContainer.innerHTML = "";
    choiceContainer.innerHTML = "";
    result.innerHTML = "";
    nextQuestionBtn.style.display = "none";

    currentHintIndex = 0;
    usedHints = 0;

    if (q.image) {
      const img = document.createElement("img");
      img.src = q.image;
      img.style.width = "250px";
      img.style.marginBottom = "20px";
      hintContainer.appendChild(img);
    }

    showHint();

    q.choices.forEach(choice => {
      const btn = document.createElement("button");
      btn.className = "choice";
      btn.innerHTML = choice;
      btn.onclick = () => checkAnswer(choice);
      choiceContainer.appendChild(btn);
    });
  }

  function showHint() {
    const q = questions[currentQuestionIndex];

    if (currentHintIndex + 1 < q.hints.length) {
      const p = document.createElement("p");
      p.className = "hint";
      p.innerHTML = q.hints[currentHintIndex];
      hintContainer.appendChild(p);

      currentHintIndex++;
      usedHints++;
    } else {
		const p = document.createElement("p");
      p.className = "hint";
      p.innerHTML = q.hints[currentHintIndex];
      hintContainer.appendChild(p);
      usedHints++;
      nextHintBtn.disabled = true;
      nextHintBtn.innerHTML="ãƒ’ãƒ³ãƒˆçµ‚äº†";
    }
  }

  function checkAnswer(choice) {
    const q = questions[currentQuestionIndex];

    if (choice === q.answer) {
      result.innerHTML = "ğŸ‰ æ­£è§£ ğŸ‰";
      let gained = 10 - (usedHints - 1) * 2;
      if (gained < 0) gained = 0;

      score += gained;
    } else {
      result.innerHTML = "âŒä¸æ­£è§£âŒ";
    }

    updateScore();

    nextQuestionBtn.style.display = "inline-block";
    nextHintBtn.disabled = true;
  }

  nextQuestionBtn.onclick = () => {
    currentQuestionIndex++;

    if (currentQuestionIndex < questions.length) {
      nextHintBtn.disabled = false;
      nextHintBtn.innerHTML="æ¬¡ã®ãƒ’ãƒ³ãƒˆ";
      loadQuestion();

    } else {
      hintContainer.innerHTML = "";
      choiceContainer.innerHTML = "";
      result.innerHTML =
        "ã€œãŠã‚ã‚Šã€œ<br>ã‚ãªãŸã®æœ€çµ‚ã‚¹ã‚³ã‚¢ã¯ <strong>" + score + " ç‚¹</strong> ã§ã™ï¼";

      nextQuestionBtn.style.display = "none";
      nextHintBtn.style.display = "none";
    }
  };

  nextHintBtn.onclick = showHint;

  loadQuestion();
</script>

</body>
</html>


